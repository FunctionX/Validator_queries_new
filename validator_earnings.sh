validators=(
fxvaloper1qjz9334grynx8lg6ae9vj2fnktgj7u0qvq3szl
fxvaloper1qcpxytptp0rfawxhgtm8z69y65g3g7d247d3wv
fxvaloper1p2le22wf9mr3h7j9qgseqtvf89ek2z0tmsdhrj
fxvaloper1pvv04yexryyxsraalwcephkavtwsadzh5yatru
fxvaloper1pcr9h9evn05rpussq9wahmerqjh380mepmshnp
fxvaloper1pa4mt67gk67l3ksgwatm56vfjze7y922j2p2q5
fxvaloper1zn0p7rqp2s702r4aua98gdtlwp6gza904h2dls
fxvaloper1znc46yl5g39yxt5nc8rls7lqz6f9tpu5m9rux9
fxvaloper1z67rkadwrp2nf4zwxpktpqnw969plelyjj5alt
fxvaloper1r4f58l7x5eyn82e36tetc69fd9xf65x5e3k34g
fxvaloper1yqz7fm3els5we5cq4h6ug3yywm7sfpl0jm2pxh
fxvaloper1ycy79ct7anmz5gmck7jann2c3lhwm8ztm5x3ch
fxvaloper1yc0v6at49lc9n8rvvcw86rgf2cgc26jy4ckzkj
fxvaloper19psvqem8jafc5ydg4cnh0t2m04ngw9gfqkeceu
fxvaloper19g2087ksund76mv3vt598pd6p563f856wqldkg
fxvaloper19fyfq60lyhv8nlanukfmrg5lp66s8q20vx3jj5
fxvaloper194wzf8rxucjt3hmesv6ccf5z5s8ss4h2rdrmr0
fxvaloper1xrzyg8w0ccm07z80cm5zxkcclfylcujneaxtuy
fxvaloper18p4q7fzj76x2s4p3upzkzxvqsyecfz2yx2y4x9
fxvaloper18xj9zy4wx96r73kqfqtm95jtpxdrw7uuxht457
fxvaloper1886ndwvun7gs2cqqe6k5vg9uddmvqgsz2vvsn8
fxvaloper1fxhwgkxphr6adkp84ka9cddqk8l8axr4j4egdl
fxvaloper1fxlpxnlrgquwaes5wrt5awdaymv5wpntfgsct8
fxvaloper1fvrkqzf795p4hh36hwy8rq57ywv5kwyxjax8cf
fxvaloper1290uryg96klfsdn3usktwcy5t3qxh8eclsmtqy
fxvaloper12dzp2wydkc8rtjeejehsck8kwmrxz7tk3t8h6s
fxvaloper126pplyfsrshzvjutslee8369uhc3hvmxml8adf
fxvaloper1t28sjqjfg0zs9wuzpyu3m59c2g4jh6q6nck2w6
fxvaloper1t569mgfscvmzrrrwqkzc2g3g2lxffpvh2s3pv8
fxvaloper1drrh5nhcn40x827j8rgx9kg9f5nftut63hnz2s
fxvaloper1dlm4kp90axktn7ywg68ueaa4uyjddnnxjxkwk8
fxvaloper10vazcv8mfhy7lm5fuep82esxwcx70dwttsx2ez
fxvaloper1srkazumnkle6uzmdvqq68df9gglylp3pkhuwna
fxvaloper1337eaaxxqd7l3jw6hwsrh0rvcjgfzgwqdtfq8x
fxvaloper1359ld4urxm0807wcmyth9dkmsw2pwznjeh26pt
fxvaloper1jcwagrc7gxpsr3xhvtvwek4kyx3m7q858jxqec
fxvaloper1nammyssvfumll85kx6fwwje3qy3pkpvkw35p89
fxvaloper15x2nwxq75fth468wn5xpvvtwhtnj2af0pz6tuj
fxvaloper14y39e3ujz2m0y2we8tqjwppmj5j4vh80hyafz7
fxvaloper1ke3gmlz77w700w65qyhtc3y3ahtwupjk3szeph
fxvaloper1h88fa2my5ns6ydpvzdjhtmjw4smz2zzd4eg7sv
fxvaloper1hnavkdy0ep629tlwt32x82qsssx9yyvp0s0wtt
fxvaloper1hl5s5tycshsklqyv88ednwmr3hc90wmqxh23c2
fxvaloper1c0gnd02hwatfukgcux5f3hvhutcfj9kdvqrmuj
fxvaloper1c4glwxgvs5vjx9j2w4ef7r4480cfs2dkv7h8u2
fxvaloper1evpmc2je2mmvad3pukyre0xw37y0cdr5pqptke
fxvaloper1engnd3l9gg67gggr7n4wq7c32zavd9sq4faxua
fxvaloper16evwmqjz8gd2wwl3qu83a3f3mlkp4yelqew850
fxvaloper1ms606vz2zrxw7752y5ae8z4zyp52ajjacv9qyd
fxvaloper1mc84eaz33l77ue6s53c482lu6fvq5uexmyea8h
fxvaloper1maactzfltlrr304dsnm8fffjtupcs4ehjedchy
fxvaloper1u2736s9hm43ds6xxje0d2qhhy2m56akaf8up7t
fxvaloper1umj9xqdv7q2quvtks8j66mwrj9wcfqp4486qgn
fxvaloper1as2rwvnayy30pzjy7aw35dcsja6g98nd87r8vp
fxvaloper1astdkdrxlgylehy0jpqv2e357kl6pq0ccq4u73
fxvaloper1a73plz6w7fc8ydlwxddanc7a239kk45jnl9xwj
fxvaloper1780uflqpght7etzq8auv0ram6rwy3wd69vdxc9
fxvaloper175yk2n6dq66kl3m8rsqn5yfqf4jkegnlvcce0a
fxvaloper17k6kc0mqnnccqqgkm3d2nzp0jqxpjutxhqyay6
fxvaloper1lgzkn292ap2a4t8dvsq0cf5qfkkuplcnztcnvp
)

echo "VALIDATORS,moniker,outstanding_commission,outstanding_rewards,withdrawn_commission,withdrawn_rewards" > validator_earnings.csv

for i in ${validators[@]}; do
	monikers=`fxcored query staking validator $i -o json | jq -r '.description.moniker'`
	outstanding_commission=`fxcored q distribution commission $i | jq -r '.commission[].amount'`
	outstanding_rewards=`fxcored q distribution rewards $(fxcored keys parse $i | jq -r .acc_address) | jq -r '.total[].amount' | sed 's/.000000000000000000//'`
	withdrawn_commission=`fxcored query txs --events 'message.sender='"$i"'&message.module=distribution' -o json | jq -r '.txs[]|.logs[]|.events[]|select(.type == "withdraw_commission")' | jq -r '.attributes[].value' | sed 's/FX//' | paste -sd+ -`

	withdrawn_rewards=`fxcored query txs --events 'message.sender='"$i"'&message.module=distribution' -o json | jq -r '.txs[]|.logs[]|.events[]|select(.type == "withdraw_rewards")' | jq -r '.attributes[0].value' | sed 's/FX//' | paste -sd+ -`
        echo "$i, $monifkers, $outstanding_commission, $outstanding_rewards, $withdrawn_commission, $withdrawn_rewards" >> validator_earnings.csv
        sleep 0.2
done
